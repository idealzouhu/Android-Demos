<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    tools:context=".MainActivity">

    <!-- 标题 -->
    <TextView
        android:id="@+id/tvTitle"
        android:drawableLeft="@drawable/ic_notification"
        android:drawablePadding="8dp"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginBottom="20dp"
        android:text="前台服务演示"
        android:textSize="24sp"
        android:textStyle="bold"
        android:textColor="#2196F3"
        android:gravity="center"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <!-- 服务控制区域 -->
    <TextView
        android:id="@+id/tvControl"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:text="服务控制"
        android:textSize="20sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvTitle" />

    <!-- 启动/停止按钮行 -->
    <LinearLayout
        android:id="@+id/llStartStop"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:orientation="horizontal"
        android:gravity="center"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvControl">

        <Button
            android:id="@+id/btnStartService"
            android:drawableStart="@drawable/ic_play"
            android:drawablePadding="4dp"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginEnd="8dp"
            android:text="启动前台服务"
            android:backgroundTint="#4CAF50" />

        <Button
            android:id="@+id/btnStopService"
            android:drawableStart="@drawable/ic_stop"
            android:drawablePadding="4dp"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginStart="8dp"
            android:text="停止前台服务"
            android:backgroundTint="#F44336" />
    </LinearLayout>

    <!-- 服务状态显示 -->
    <TextView
        android:id="@+id/tvServiceStatus"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="12dp"
        android:text="服务状态: 未启动"
        android:textSize="16sp"
        android:textColor="#2196F3"
        android:gravity="center"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/llStartStop" />

    <!-- 下载控制区域 -->
    <TextView
        android:id="@+id/tvDownloadControl"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="24dp"
        android:text="下载控制"
        android:textSize="20sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvServiceStatus" />

    <!-- 下载控制按钮行 -->
    <LinearLayout
        android:id="@+id/llDownloadControl"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:orientation="horizontal"
        android:gravity="center"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvDownloadControl">

        <Button
            android:id="@+id/btnStartDownload"
            android:drawablePadding="4dp"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginEnd="4dp"
            android:text="开始下载"
            android:enabled="false"
            android:backgroundTint="#2196F3" />

        <Button
            android:id="@+id/btnPauseDownload"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginHorizontal="4dp"
            android:text="暂停下载"
            android:drawableStart="@drawable/ic_pause"
            android:drawablePadding="4dp"
            android:enabled="false"
            android:backgroundTint="#FF9800" />

        <Button
            android:id="@+id/btnResumeDownload"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:layout_marginStart="4dp"
            android:text="继续下载"
            android:drawableStart="@drawable/ic_play"
            android:drawablePadding="4dp"
            android:enabled="false"
            android:backgroundTint="#4CAF50" />
    </LinearLayout>

    <!-- 下载进度显示 -->
    <TextView
        android:id="@+id/tvProgressTitle"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:text="下载进度"
        android:textSize="18sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/llDownloadControl" />

    <ProgressBar
        android:id="@+id/progressBar"
        style="?android:attr/progressBarStyleHorizontal"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="12dp"
        android:max="100"
        android:progress="0"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvProgressTitle" />

    <TextView
        android:id="@+id/tvProgressText"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:text="0%"
        android:textSize="16sp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/progressBar" />

    <!-- 下载状态 -->
    <TextView
        android:id="@+id/tvDownloadStatus"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:text="下载状态: 未开始"
        android:textSize="16sp"
        android:textColor="#666666"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvProgressText" />

    <!-- 下载信息统计 -->
    <TextView
        android:id="@+id/tvDownloadInfo"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:text="已下载: 0 MB / 总大小: 100 MB"
        android:textSize="14sp"
        android:textColor="#666666"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvDownloadStatus" />

    <!-- 通知信息 -->
    <TextView
        android:id="@+id/tvNotificationInfo"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="24dp"
        android:padding="12dp"
        android:background="#F5F5F5"
        android:text="前台服务会在通知栏显示通知\n确保应用在后台时也能继续运行"
        android:textSize="14sp"
        android:lineSpacingExtra="4dp"
        android:gravity="center"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/tvDownloadInfo" />

</androidx.constraintlayout.widget.ConstraintLayout>